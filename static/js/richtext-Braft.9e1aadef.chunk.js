(this["webpackJsonpe-admin-react"]=this["webpackJsonpe-admin-react"]||[]).push([[20],{492:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return C}));a(126),a(208),a(311);var n=a(136),r=(a(174),a(77)),c=(a(461),a(246)),o=a(171),u=(a(462),a(125)),i=a(0),l=a.n(i),s=a(906),d=(a(304),a(172)),m=a.n(d),p=(a(303),a(95)),b=(a(202),a(245)),f=a(212),h=a(250),v=a.n(h),E=a(1093),g=a.n(E),_=(a(1189),a(921));function j(e){var t=e.value,a=e.onChange,n=Object(f.a)(e,["value","onChange"]),r=Object(i.useMemo)((function(){return v()((function(e){a&&a(e)}),100)}),[a]),c=Object(i.useCallback)(function(){var e=Object(b.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(_.d)(t.file,"",(function(e){t.progress(e.loaded/e.total*100)}));case 3:a=e.sent,t.success({url:a,meta:{id:t.id,title:t.id,alt:"\u52a0\u8f7d\u5931\u8d25"}}),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),p.b.destroy(),p.b.error("\u4e0a\u4f20\u5931\u8d25");case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[]);return l.a.createElement(g.a,Object.assign({},n,{value:g.a.createEditorState(t),onChange:r,media:{uploadFn:c}}))}var O=u.a.Item;function C(){var e=u.a.useForm(),t=Object(o.a)(e,1)[0];Object(i.useEffect)((function(){var e=setTimeout((function(){t.setFieldsValue({content:"<p>Hello <b>Braft!</b></p>"})}),1e3);return function(){clearTimeout(e)}}),[t]);return l.a.createElement(s.a,null,l.a.createElement(u.a,{form:t,onFinish:function(e){var t={title:e.title,content:e.content.toHTML()};console.log(t)}},l.a.createElement(O,{name:"title",label:"\u6587\u7ae0\u6807\u9898",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u9898"}]},l.a.createElement(c.a,{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898",maxLength:20,style:{width:"300px"},autoComplete:"off"})),l.a.createElement(O,{name:"content",label:"\u6587\u7ae0\u6b63\u6587",trigger:"onBlur",validateTrigger:"onBlur",rules:[{required:!0,validator:function(e,t){return t.isEmpty()?Promise.reject("\u8bf7\u8f93\u5165\u6b63\u6587\u5185\u5bb9"):Promise.resolve()}}]},l.a.createElement(j,{className:"braft-editor",placeholder:"\u8bf7\u8f93\u5165\u6b63\u6587\u5185\u5bb9"})),l.a.createElement(O,null,l.a.createElement(n.a,{justify:"end"},l.a.createElement(r.a,{type:"primary",htmlType:"submit"},"\u63d0\u4ea4")))))}},904:function(e,t,a){e.exports={pageWrapper:"index_pageWrapper__iL1ys",hasBread:"index_hasBread__32b6J",isColumn:"index_isColumn__2Ke5Q",pageContainer:"index_pageContainer__2KyEm",bread:"index_bread__9EG6_",backTop:"index_backTop__21_JY"}},906:function(e,t,a){"use strict";a(122),a(911);var n=a(915),r=a(302),c=a(0),o=a.n(c),u=a(6),i=a.n(u),l=(a(244),a(123),a(460),a(912),a(914)),s=a(111),d=a(913),m=a(904),p=a.n(m),b=function(e){var t=e.breadcrumbs;return o.a.createElement(l.a,{className:p.a.bread},t.map((function(e){return o.a.createElement(l.a.Item,{key:e.key},"/"===e.match.url?o.a.createElement(s.b,{to:e.match.url},e.breadcrumb.props.children):o.a.createElement("span",null,e.breadcrumb.props.children))})))},f=function(e){var t=e.breads,a=void 0===t?[]:t,n=Object(d.a)(a)(b);return o.a.createElement(n,null)},h=a(203),v=function(e){var t,a=Object(h.b)().userStore,c=e.wrapperClass,u=e.containerClass,l=e.hasBread,s=e.isColumn,d=a.breads,m=i()(p.a.pageWrapper,c,(t={},Object(r.a)(t,p.a.hasBread,l),Object(r.a)(t,p.a.isColumn,s),t));return o.a.createElement("div",{className:m},l&&o.a.createElement(f,{breads:d}),o.a.createElement("div",{className:"".concat(p.a.pageContainer," ").concat(u)},e.children),o.a.createElement(n.a,{className:p.a.backTop}))};v.defaultProps={wrapperClass:"",containerClass:"",hasBread:!0,isColumn:!1};t.a=v},921:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return p}));a(170);var n=a(172),r=a.n(n),c=(a(202),a(245)),o=a(204),u=a(205),i=a.n(u),l=a(85),s=function(e){return Object(o.b)({method:"get",url:"/upload/qiniu_token",params:e})},d=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c,o,u,d,m=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.length>2&&void 0!==m[2]?m[2]:function(){},e.next=3,s();case 3:return c=e.sent,o=c.token,(u=new FormData).append("file",t),u.append("key",a||Object(l.d)()+t.name),u.append("token",o),e.next=11,i()({method:"post",url:window.QINIU_UPLOAD_URL,data:u,onUploadProgress:n});case 11:return d=e.sent,e.abrupt("return",window.QINIU_PREFIX+d.data.key);case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){return Object(o.b)({method:"get",url:"/role/total"})},p=function(e){return Object(o.b)({method:"get",url:"/resource/total",params:e})}}}]);